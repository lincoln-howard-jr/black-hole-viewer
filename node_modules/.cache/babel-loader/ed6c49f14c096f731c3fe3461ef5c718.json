{"ast":null,"code":"var _jsxFileName = \"/Users/amethyst/black-hole-viewer/src/components/Graph.js\";\nimport React, { Component } from 'react';\nimport { Button } from 'semantic-ui-react';\n\nclass Graph extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.readTextFile = file => {\n      var rawFile = new XMLHttpRequest();\n      rawFile.open(\"GET\", file, false);\n\n      rawFile.onreadystatechange = () => {\n        if (rawFile.readyState === 4) {\n          if (rawFile.status === 200 || rawFile.status == 0) {\n            var allText = rawFile.responseText;\n            console.log(\"allText: \", allText);\n          }\n        }\n      };\n\n      rawFile.send(null);\n    };\n\n    this.readText2 = file => {\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', '/server', true); // If specified, responseType must be empty string or \"text\"\n\n      xhr.responseType = 'text';\n\n      xhr.onload = function () {\n        if (xhr.readyState === xhr.DONE) {\n          if (xhr.status === 200) {\n            console.log(xhr.response);\n            console.log(xhr.responseText);\n          }\n        }\n      };\n\n      xhr.send(null);\n    };\n\n    this.renderButton = () => {\n      if (this.props.selection.length > 0) {\n        // Create file name from selection\n        let zeros = 9 - Number(this.props.selection[0]);\n        let file = \"grid\" + \"0\".repeat(zeros);\n\n        if (this.props.selection[2] === \"1\") {\n          file += \"_Z_1_n_\";\n        } else {\n          file += \"_Z_0p1_n_\";\n        }\n\n        file += this.props.selection[3] + \"_\" + this.props.selection[1] + \"per.con\"; // Read file contents for graph\n\n        const textFile = \"data/\" + file;\n        console.log(this.readTextFile(textFile));\n        return React.createElement(\"a\", {\n          href: \"data/\" + file,\n          download: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(Button, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"Download Configuration File\"));\n      } else {\n        return null;\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, this.renderButton());\n  }\n\n}\n\nexport default Graph;","map":{"version":3,"sources":["/Users/amethyst/black-hole-viewer/src/components/Graph.js"],"names":["React","Component","Button","Graph","readTextFile","file","rawFile","XMLHttpRequest","open","onreadystatechange","readyState","status","allText","responseText","console","log","send","readText2","xhr","responseType","onload","DONE","response","renderButton","props","selection","length","zeros","Number","repeat","textFile","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Button} from 'semantic-ui-react'\nclass Graph extends Component {\n  // <a href=\"/favicon.ico\" download >\n  // download\n  // </a>\n  //\n  //\n\n  readTextFile = file => {\n        var rawFile = new XMLHttpRequest();\n        rawFile.open(\"GET\", file, false);\n        rawFile.onreadystatechange = () => {\n            if (rawFile.readyState === 4) {\n                if (rawFile.status === 200 || rawFile.status == 0) {\n                    var allText = rawFile.responseText;\n                    console.log(\"allText: \", allText);\n                }\n            }\n        };\n        rawFile.send(null);\n    };\n\n  readText2 = file => {\n    var xhr = new XMLHttpRequest();\nxhr.open('GET', '/server', true);\n\n// If specified, responseType must be empty string or \"text\"\nxhr.responseType = 'text';\n\nxhr.onload = function () {\n    if (xhr.readyState === xhr.DONE) {\n        if (xhr.status === 200) {\n            console.log(xhr.response);\n            console.log(xhr.responseText);\n        }\n    }\n};\n\nxhr.send(null);\n  }\n\n  renderButton = () => {\n    if(this.props.selection.length > 0){\n      // Create file name from selection\n      let zeros = 9 - Number(this.props.selection[0])\n      let file = \"grid\" + \"0\".repeat(zeros)\n      if(this.props.selection[2] === \"1\") {\n        file += \"_Z_1_n_\"\n      } else {\n        file += \"_Z_0p1_n_\"\n      }\n      file += this.props.selection[3] + \"_\" + this.props.selection[1] + \"per.con\"\n      // Read file contents for graph\n      const textFile = \"data/\" + file\n      console.log(this.readTextFile(textFile))\n\n      return <a href={\"data/\" + file} download >\n      <Button>\n      Download Configuration File\n      </Button>\n      </a>\n    }else{\n      return null\n    }\n  }\n  render() {\n    return (\n      <>{this.renderButton()}</>\n    );\n  }\n\n}\n\nexport default Graph;\n"]},"metadata":{},"sourceType":"module"}