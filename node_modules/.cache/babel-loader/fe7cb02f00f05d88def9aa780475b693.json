{"ast":null,"code":"import _defineProperty from \"/Users/amethyst/black-hole-viewer/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/amethyst/black-hole-viewer/src/components/GraphContainer.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Button, Header } from 'semantic-ui-react';\nimport Graph from './Graph';\nimport Graph1 from './Graph1';\n\nclass GraphContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      graph: \"\",\n      graphFile: \"\",\n      toggle: false\n    };\n\n    this.toggleGraph = () => {\n      this.setState(_objectSpread({}, this.state, {\n        toggle: !this.state.toggle\n      }));\n    };\n\n    this.setGraph = file => {\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', file, true); // If specified, responseType must be empty string or \"text\"\n\n      xhr.responseType = 'text';\n\n      xhr.onload = () => {\n        if (xhr.readyState === xhr.DONE && this.state.graph !== xhr.responseText) {\n          if (xhr.status === 200) {\n            this.setState(_objectSpread({}, this.state, {\n              graph: xhr.responseText,\n              graphFile: file\n            }));\n          }\n        }\n      };\n\n      xhr.send(null);\n    };\n  }\n\n  componentDidMount() {\n    // Create file name from selection\n    let zeros = 9 - Number(this.props.selection[0]);\n    let file = \"grid\" + \"0\".repeat(zeros);\n\n    if (this.props.selection[2] === \"1\") {\n      file += \"_Z_1_n_\";\n    } else {\n      file += \"_Z_0p1_n_\";\n    }\n\n    file += this.props.selection[3] + \"_\" + this.props.selection[1] + \"per.con\"; // Set configuration file to state\n\n    this.setGraph(\"data/\" + file);\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Header, {\n      as: \"h3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Graph \", this.state.toggle ? \"2\" : \"1\"), this.state.graph === \"\" ? null : this.state.toggle ? React.createElement(Graph, {\n      graph: this.state.graph,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }) : React.createElement(Graph1, {\n      graph: this.state.graph,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: this.state.graphFile,\n      download: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Download Configuration File\")), React.createElement(Button, {\n      onClick: this.toggleGraph,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, \"Change Graph\"));\n  }\n\n}\n\nexport default GraphContainer;","map":{"version":3,"sources":["/Users/amethyst/black-hole-viewer/src/components/GraphContainer.js"],"names":["React","Component","Button","Header","Graph","Graph1","GraphContainer","state","graph","graphFile","toggle","toggleGraph","setState","setGraph","file","xhr","XMLHttpRequest","open","responseType","onload","readyState","DONE","responseText","status","send","componentDidMount","zeros","Number","props","selection","repeat","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Button, Header} from 'semantic-ui-react'\nimport Graph from './Graph'\nimport Graph1 from './Graph1'\n\nclass GraphContainer extends Component {\n  state = {\n    graph: \"\",\n    graphFile: \"\",\n    toggle: false\n  }\n\n  componentDidMount() {\n      // Create file name from selection\n      let zeros = 9 - Number(this.props.selection[0])\n      let file = \"grid\" + \"0\".repeat(zeros)\n      if(this.props.selection[2] === \"1\") {\n        file += \"_Z_1_n_\"\n      } else {\n        file += \"_Z_0p1_n_\"\n      }\n      file += this.props.selection[3] + \"_\" + this.props.selection[1] + \"per.con\"\n      // Set configuration file to state\n      this.setGraph(\"data/\" + file)\n  }\n\n  toggleGraph = () => {\n    this.setState({...this.state, toggle: !this.state.toggle})\n  }\n\n  setGraph = file => {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', file , true);\n    // If specified, responseType must be empty string or \"text\"\n    xhr.responseType = 'text';\n\n    xhr.onload = () => {\n      if (xhr.readyState === xhr.DONE && this.state.graph !== xhr.responseText) {\n          if (xhr.status === 200) {\n              this.setState({...this.state, graph: xhr.responseText, graphFile: file})\n\n            }\n          }\n        }\n        xhr.send(null);\n    }\n\n  render() {\n    return (\n      <>\n      <Header as='h3'>\n    Graph {\n      this.state.toggle ? \"2\" : \"1\"\n    }\n    </Header>\n      {this.state.graph === \"\" ? null :\n        this.state.toggle ?\n        <Graph graph={this.state.graph}/> :\n        <Graph1 graph={this.state.graph}/>\n      }\n      <a href={this.state.graphFile} download >\n      <Button>\n      Download Configuration File\n      </Button>\n      </a>\n      <Button onClick={this.toggleGraph}>\n      Change Graph\n      </Button>\n      </>\n    );\n  }\n\n}\n\nexport default GraphContainer;\n"]},"metadata":{},"sourceType":"module"}