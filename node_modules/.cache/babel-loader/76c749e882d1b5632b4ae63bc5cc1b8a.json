{"ast":null,"code":"import _defineProperty from \"/Users/amethyst/black-hole-viewer/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/amethyst/black-hole-viewer/src/components/Graph.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Button } from 'semantic-ui-react';\n\nclass Graph extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      graph: \"\",\n      graphFile: \"\"\n    };\n\n    this.setGraph = file => {\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET', file, true); // If specified, responseType must be empty string or \"text\"\n\n      xhr.responseType = 'text';\n\n      xhr.onload = () => {\n        if (xhr.readyState === xhr.DONE && this.state.graph !== xhr.responseText) {\n          if (xhr.status === 200) {\n            this.setState(_objectSpread({}, this.state, {\n              graph: xhr.responseText,\n              graphFile: file\n            }));\n            console.log(xhr.responseText);\n          }\n        }\n      };\n\n      xhr.send(null);\n    };\n\n    this.renderGraph = () => {};\n\n    this.renderButton = () => {\n      return;\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.selection.length > 0) {\n      // Create file name from selection\n      let zeros = 9 - Number(this.props.selection[0]);\n      let file = \"grid\" + \"0\".repeat(zeros);\n\n      if (this.props.selection[2] === \"1\") {\n        file += \"_Z_1_n_\";\n      } else {\n        file += \"_Z_0p1_n_\";\n      }\n\n      file += this.props.selection[3] + \"_\" + this.props.selection[1] + \"per.con\"; // Set configuration file to state\n\n      this.setGraph(\"data/\" + file);\n      return;\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"a\", {\n      href: this.state.graphFile,\n      download: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Button, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Download Configuration File\")));\n  }\n\n}\n\nexport default Graph;","map":{"version":3,"sources":["/Users/amethyst/black-hole-viewer/src/components/Graph.js"],"names":["React","Component","Button","Graph","state","graph","graphFile","setGraph","file","xhr","XMLHttpRequest","open","responseType","onload","readyState","DONE","responseText","status","setState","console","log","send","renderGraph","renderButton","componentDidMount","props","selection","length","zeros","Number","repeat","render"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,MAAR,QAAqB,mBAArB;;AACA,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC5BG,KAD4B,GACpB;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,SAAS,EAAE;AAFL,KADoB;;AAAA,SA0B5BC,QA1B4B,GA0BjBC,IAAI,IAAI;AACjB,UAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACAD,MAAAA,GAAG,CAACE,IAAJ,CAAS,KAAT,EAAgBH,IAAhB,EAAuB,IAAvB,EAFiB,CAGjB;;AACAC,MAAAA,GAAG,CAACG,YAAJ,GAAmB,MAAnB;;AAEAH,MAAAA,GAAG,CAACI,MAAJ,GAAa,MAAM;AACjB,YAAIJ,GAAG,CAACK,UAAJ,KAAmBL,GAAG,CAACM,IAAvB,IAA+B,KAAKX,KAAL,CAAWC,KAAX,KAAqBI,GAAG,CAACO,YAA5D,EAA0E;AACtE,cAAIP,GAAG,CAACQ,MAAJ,KAAe,GAAnB,EAAwB;AACpB,iBAAKC,QAAL,mBAAkB,KAAKd,KAAvB;AAA8BC,cAAAA,KAAK,EAAEI,GAAG,CAACO,YAAzC;AAAuDV,cAAAA,SAAS,EAAEE;AAAlE;AACAW,YAAAA,OAAO,CAACC,GAAR,CAAYX,GAAG,CAACO,YAAhB;AAED;AACF;AACF,OARL;;AASIP,MAAAA,GAAG,CAACY,IAAJ,CAAS,IAAT;AACH,KA1CyB;;AAAA,SA2C5BC,WA3C4B,GA2Cd,MAAM,CAEnB,CA7C2B;;AAAA,SA8C5BC,YA9C4B,GA8Cb,MAAM;AACnB;AACD,KAhD2B;AAAA;;AAM5BC,EAAAA,iBAAiB,GAAG;AAClB,QAAG,KAAKC,KAAL,CAAWC,SAAX,CAAqBC,MAArB,GAA8B,CAAjC,EAAmC;AACjC;AACA,UAAIC,KAAK,GAAG,IAAIC,MAAM,CAAC,KAAKJ,KAAL,CAAWC,SAAX,CAAqB,CAArB,CAAD,CAAtB;AACA,UAAIlB,IAAI,GAAG,SAAS,IAAIsB,MAAJ,CAAWF,KAAX,CAApB;;AACA,UAAG,KAAKH,KAAL,CAAWC,SAAX,CAAqB,CAArB,MAA4B,GAA/B,EAAoC;AAClClB,QAAAA,IAAI,IAAI,SAAR;AACD,OAFD,MAEO;AACLA,QAAAA,IAAI,IAAI,WAAR;AACD;;AACDA,MAAAA,IAAI,IAAI,KAAKiB,KAAL,CAAWC,SAAX,CAAqB,CAArB,IAA0B,GAA1B,GAAgC,KAAKD,KAAL,CAAWC,SAAX,CAAqB,CAArB,CAAhC,GAA0D,SAAlE,CATiC,CAUjC;;AACA,WAAKnB,QAAL,CAAc,UAAUC,IAAxB;AAEA;AACD,KAdD,MAcK;AACH,aAAO,IAAP;AACD;AACF;;AAyBDuB,EAAAA,MAAM,GAAG;AACP,WACE,0CAAE;AAAG,MAAA,IAAI,EAAE,KAAK3B,KAAL,CAAWE,SAApB;AAA+B,MAAA,QAAQ,MAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADE,CAAF,CADF;AAOD;;AAzD2B;;AA6D9B,eAAeH,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport {Button} from 'semantic-ui-react'\nclass Graph extends Component {\n  state = {\n    graph: \"\",\n    graphFile: \"\"\n  }\n\n  componentDidMount() {\n    if(this.props.selection.length > 0){\n      // Create file name from selection\n      let zeros = 9 - Number(this.props.selection[0])\n      let file = \"grid\" + \"0\".repeat(zeros)\n      if(this.props.selection[2] === \"1\") {\n        file += \"_Z_1_n_\"\n      } else {\n        file += \"_Z_0p1_n_\"\n      }\n      file += this.props.selection[3] + \"_\" + this.props.selection[1] + \"per.con\"\n      // Set configuration file to state\n      this.setGraph(\"data/\" + file)\n\n      return\n    }else{\n      return null\n    }\n  }\n\n  setGraph = file => {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', file , true);\n    // If specified, responseType must be empty string or \"text\"\n    xhr.responseType = 'text';\n\n    xhr.onload = () => {\n      if (xhr.readyState === xhr.DONE && this.state.graph !== xhr.responseText) {\n          if (xhr.status === 200) {\n              this.setState({...this.state, graph: xhr.responseText, graphFile: file})\n              console.log(xhr.responseText)\n\n            }\n          }\n        }\n        xhr.send(null);\n    }\n  renderGraph = () => {\n\n  }\n  renderButton = () => {\n    return\n  }\n  render() {\n    return (\n      <><a href={this.state.graphFile} download >\n      <Button>\n      Download Configuration File\n      </Button>\n      </a></>\n    );\n  }\n\n}\n\nexport default Graph;\n"]},"metadata":{},"sourceType":"module"}